<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spotify Clone</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ðŸŽµ Spotify Clone (Demo)</h1>
  <div id="albums"></div>

  <script>
    async function loadAlbums() {
      const res = await fetch("/api/new-releases");
      const albums = await res.json();
      const container = document.getElementById("albums");
      container.innerHTML = albums.map(a => `
        <div class="card">
          <img src="${a.images[0].url}" alt="${a.name}">
          <p>${a.name}</p>
          ${a.artists.map(ar => `<small>${ar.name}</small>`).join(", ")}
          <br>
          ${a.preview_url 
            ? `<audio controls src="${a.preview_url}"></audio>` 
            : `<p style="color:gray">Preview Not Available</p>`}
        </div>
      `).join("");
    }
    loadAlbums();
  </script>
</body>
</html>
